2025-04-17 13:30:25,544 - INFO - 🌐 Opened environment URL: https://fe.stage.fattal.kimaia.dev/
2025-04-17 13:30:25,545 - INFO - 🧪 Starting test: CLUB user hotel search and booking flow (mobile)
2025-04-17 13:30:35,571 - WARNING - ⚠️ Login failed or already logged in: Message: 
Stacktrace:
	GetHandleVerifier [0x00007FF7CBC05355+78597]
	GetHandleVerifier [0x00007FF7CBC053B0+78688]
	(No symbol) [0x00007FF7CB9B91AA]
	(No symbol) [0x00007FF7CBA0F149]
	(No symbol) [0x00007FF7CBA0F3FC]
	(No symbol) [0x00007FF7CBA62467]
	(No symbol) [0x00007FF7CBA3712F]
	(No symbol) [0x00007FF7CBA5F2BB]
	(No symbol) [0x00007FF7CBA36EC3]
	(No symbol) [0x00007FF7CBA003F8]
	(No symbol) [0x00007FF7CBA01163]
	GetHandleVerifier [0x00007FF7CBEAEF0D+2870973]
	GetHandleVerifier [0x00007FF7CBEA96B8+2848360]
	GetHandleVerifier [0x00007FF7CBEC6993+2967875]
	GetHandleVerifier [0x00007FF7CBC2019A+188746]
	GetHandleVerifier [0x00007FF7CBC2847F+222255]
	GetHandleVerifier [0x00007FF7CBC0D2D4+111236]
	GetHandleVerifier [0x00007FF7CBC0D482+111666]
	GetHandleVerifier [0x00007FF7CBBF35A9+5465]
	BaseThreadInitThunk [0x00007FFE7239E8D7+23]
	RtlUserThreadStart [0x00007FFE736514FC+44]

2025-04-17 13:30:35,684 - INFO - ✅ Clicked mobile hotel search input container.
2025-04-17 13:30:37,337 - INFO - ✅ Typed city name in mobile: לאונרדו נגב, באר שבע
2025-04-17 13:30:37,688 - INFO - ✅ Clicked first suggested hotel from list.
2025-04-17 13:30:37,959 - INFO - 📅 Opened mobile calendar (date picker).
2025-04-17 13:30:37,960 - INFO - 📅 Scrolling and selecting date range (real clicks)...
2025-04-17 13:30:40,088 - INFO - 🗓️ Attempting to select: 1 ביולי 2025 ➡ 4 ביולי 2025 (3 לילות)
2025-04-17 13:30:43,411 - INFO - 📅 Calendar still open after selection – continuing.
2025-04-17 13:30:44,270 - INFO - ✅ Selected check-in: 1 ביולי 2025 → check-out: 4 ביולי 2025
2025-04-17 13:30:44,270 - INFO - ✅ Confirmed calendar selection.
2025-04-17 13:30:44,285 - INFO - ℹ️ Room modal already open — skip clicking.
2025-04-17 13:30:44,285 - INFO - 🧩 Room modal already open — did not click again.
2025-04-17 13:30:44,285 - INFO - 👨‍👩‍👧 Adjusting room occupants...
2025-04-17 13:30:44,299 - INFO - 🧩 Room modal confirmed present.
2025-04-17 13:30:44,299 - INFO - 🔧 Setting adults to 2...
2025-04-17 13:30:44,342 - INFO - 👤 Adults set to: 2
2025-04-17 13:30:44,343 - INFO - 🔧 Setting children to 1...
2025-04-17 13:30:44,883 - INFO - 👤 Children set to: 1
2025-04-17 13:30:44,884 - INFO - 🔧 Setting infants to 0...
2025-04-17 13:30:44,956 - INFO - 👤 Infants set to: 0
2025-04-17 13:30:44,956 - INFO - ✅ Room occupant adjustment completed.
2025-04-17 13:30:44,956 - INFO - 👉 Searching for 'המשך' room continue button...
2025-04-17 13:30:44,964 - INFO - 🧩 Room modal is visible and ready.
2025-04-17 13:30:45,652 - INFO - ✅ Clicked room continue button (native click).
2025-04-17 13:30:45,653 - INFO - 📱 Attempting to click main 'חפש חופשה' search button...
2025-04-17 13:30:50,854 - WARNING - ⚠️ Room modal may still be open — click might be blocked.
2025-04-17 13:30:50,894 - INFO - 🔍 Found button with text: 'חפש חופשה'
2025-04-17 13:30:51,583 - INFO - ✅ Clicked search button (JS click).
2025-04-17 13:30:51,584 - INFO - 🔍 מחפש ולוחץ על כפתור 'הצג מחירים'...
2025-04-17 13:30:55,764 - INFO - ✅ כפתור 'הצג מחירים' נלחץ בהצלחה.
2025-04-17 13:30:55,764 - INFO - 🏨 מחפש ולוחץ על כפתור 'להזמנת חדר'...
2025-04-17 13:30:56,263 - INFO - ✅ נלחץ כפתור 'להזמנת חדר' בהצלחה.
2025-04-17 13:30:56,264 - INFO - 🕐 Waiting for personal details form (mobile)...
2025-04-17 13:30:58,335 - INFO - ✅ Email input is visible.
2025-04-17 13:30:58,335 - INFO - 📜 Clicking 'User Agreement' checkbox (Mobile)...
2025-04-17 13:30:58,388 - INFO - ✅ Clicked 'User Agreement' checkbox.
2025-04-17 13:30:58,388 - INFO - 💳 Scrolling iframe into view...
2025-04-17 13:30:58,417 - INFO - 💳 Switching into payment iframe...
2025-04-17 13:30:58,528 - INFO - ✅ Switched into iframe.
2025-04-17 13:30:59,311 - INFO - ✅ Card Number filled correctly.
2025-04-17 13:30:59,455 - INFO - ✅ Cardholder Name filled correctly.
2025-04-17 13:30:59,555 - INFO - ✅ Expiry Month selected: 08
2025-04-17 13:30:59,676 - INFO - ✅ Expiry Year selected: 2025
2025-04-17 13:30:59,799 - INFO - ✅ CVV filled correctly.
2025-04-17 13:30:59,924 - INFO - ✅ Card ID Number filled correctly.
2025-04-17 13:30:59,924 - INFO - 🎯 Payment form filled successfully.
2025-04-17 13:30:59,928 - INFO - 🔙 Switched back to main content.
2025-04-17 13:30:59,928 - INFO - 🚀 Trying to click the payment submit button inside iframe...
2025-04-17 13:31:00,307 - INFO - ✅ Payment submit button clicked successfully via JS.
2025-04-17 13:31:00,310 - INFO - 🔙 Switched back to main content after payment submission.
2025-04-17 13:31:00,311 - INFO - 🔍 Verifying mobile confirmation page contents...
2025-04-17 13:31:31,827 - INFO - 📸 Screenshot saved at: C:\Users\Fattal\Desktop\newTest\Fattal AutomationV1\Fattal_Tests\Fattal_Tests\Screenshots\confirmation_FAIL_2025-04-17_13-31-31.png
2025-04-17 13:31:31,827 - ERROR - ❌ Failed to extract confirmation (mobile): Message: 
Stacktrace:
	GetHandleVerifier [0x00007FF7CBC05355+78597]
	GetHandleVerifier [0x00007FF7CBC053B0+78688]
	(No symbol) [0x00007FF7CB9B91AA]
	(No symbol) [0x00007FF7CBA0F149]
	(No symbol) [0x00007FF7CBA0F3FC]
	(No symbol) [0x00007FF7CBA62467]
	(No symbol) [0x00007FF7CBA3712F]
	(No symbol) [0x00007FF7CBA5F2BB]
	(No symbol) [0x00007FF7CBA36EC3]
	(No symbol) [0x00007FF7CBA003F8]
	(No symbol) [0x00007FF7CBA01163]
	GetHandleVerifier [0x00007FF7CBEAEF0D+2870973]
	GetHandleVerifier [0x00007FF7CBEA96B8+2848360]
	GetHandleVerifier [0x00007FF7CBEC6993+2967875]
	GetHandleVerifier [0x00007FF7CBC2019A+188746]
	GetHandleVerifier [0x00007FF7CBC2847F+222255]
	GetHandleVerifier [0x00007FF7CBC0D2D4+111236]
	GetHandleVerifier [0x00007FF7CBC0D482+111666]
	GetHandleVerifier [0x00007FF7CBBF35A9+5465]
	BaseThreadInitThunk [0x00007FFE7239E8D7+23]
	RtlUserThreadStart [0x00007FFE736514FC+44]

